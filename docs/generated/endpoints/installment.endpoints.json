[
  {
    "id": "GET /api/installment/{id}",
    "method": "GET",
    "url": "/api/installment/{id}",
    "summary": "Get installment by ID",
    "description": "Retrieve a specific installment by its unique identifier with optional field selection",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [],
    "pathParams": [
      {
        "name": "id",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "description": "Installment ID (MongoDB ObjectId format)"
      }
    ],
    "queryParams": [
      {
        "name": "fields",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Comma-separated list of fields to include (supports nested fields with dot notation)"
      }
    ],
    "responses": {
      "200": {
        "description": "Installment retrieved successfully",
        "schema": {
          "allOf": [
            {
              "$ref": "#/components/schemas/Success"
            },
            {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "installment": {
                      "$ref": "#/components/schemas/Installment"
                    }
                  }
                }
              }
            }
          ]
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "404": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "PATCH /api/installment/{id}",
    "method": "PATCH",
    "url": "/api/installment/{id}",
    "summary": "Update installment",
    "description": "Update installment data by ID (partial update)",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [
      "application/json"
    ],
    "pathParams": [
      {
        "name": "id",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "description": "Installment ID (MongoDB ObjectId format)"
      }
    ],
    "queryParams": [],
    "requestBody": {
      "required": true,
      "schema": {
        "type": "object",
        "minProperties": 1,
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "Installment name",
            "example": "Updated Email Installment"
          },
          "description": {
            "type": "string",
            "description": "Installment description",
            "example": "Updated description for the installment"
          },
          "type": {
            "type": "string",
            "enum": [
              "email",
              "sms",
              "push",
              "form"
            ],
            "description": "Installment type for categorization",
            "example": "email"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "Soft delete flag",
            "example": false
          }
        }
      },
      "contentTypes": [
        "application/json"
      ]
    },
    "responses": {
      "200": {
        "description": "Installment updated successfully",
        "schema": {
          "allOf": [
            {
              "$ref": "#/components/schemas/Success"
            },
            {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "installment": {
                      "$ref": "#/components/schemas/Installment"
                    }
                  }
                }
              }
            }
          ]
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "404": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "DELETE /api/installment/{id}",
    "method": "DELETE",
    "url": "/api/installment/{id}",
    "summary": "Delete installment",
    "description": "Permanently delete a installment by ID",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [],
    "pathParams": [
      {
        "name": "id",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "description": "Installment ID (MongoDB ObjectId format)"
      }
    ],
    "queryParams": [],
    "responses": {
      "200": {
        "description": "Installment deleted successfully",
        "schema": {
          "allOf": [
            {
              "$ref": "#/components/schemas/Success"
            },
            {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "description": "Empty object for successful deletion"
                }
              }
            }
          ]
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "404": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "GET /api/installment",
    "method": "GET",
    "url": "/api/installment",
    "summary": "Get all installments",
    "description": "Retrieve installments with advanced filtering, pagination, sorting, field selection, and optional grouping",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [],
    "pathParams": [],
    "queryParams": [
      {
        "name": "page",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        },
        "description": "Page number for pagination"
      },
      {
        "name": "limit",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 10
        },
        "description": "Number of records per page"
      },
      {
        "name": "order",
        "required": false,
        "schema": {
          "type": "string",
          "enum": [
            "asc",
            "desc"
          ],
          "default": "desc"
        },
        "description": "Sort order for results"
      },
      {
        "name": "sort",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Field to sort by or JSON object for multi-field sorting"
      },
      {
        "name": "fields",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Comma-separated list of fields to include (supports dot notation)"
      },
      {
        "name": "query",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Search query to filter by name or description"
      },
      {
        "name": "filter",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "JSON array of filter objects for advanced filtering"
      },
      {
        "name": "groupBy",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Group results by a field name"
      },
      {
        "name": "document",
        "required": false,
        "schema": {
          "type": "string",
          "enum": [
            "true"
          ]
        },
        "description": "Include installment documents in response"
      },
      {
        "name": "pagination",
        "required": false,
        "schema": {
          "type": "string",
          "enum": [
            "true"
          ]
        },
        "description": "Include pagination metadata in response"
      },
      {
        "name": "count",
        "required": false,
        "schema": {
          "type": "string",
          "enum": [
            "true"
          ]
        },
        "description": "Include total count in response"
      }
    ],
    "responses": {
      "200": {
        "description": "Templates retrieved successfully",
        "schema": {
          "allOf": [
            {
              "$ref": "#/components/schemas/Success"
            },
            {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "installments": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Installment"
                      },
                      "description": "Present when document=\"true\" and no groupBy"
                    },
                    "groups": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Installment"
                        }
                      },
                      "description": "Present when groupBy is used and document=\"true\""
                    },
                    "count": {
                      "type": "integer",
                      "description": "Present when count=\"true\""
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination",
                      "description": "Present when pagination=\"true\""
                    }
                  }
                }
              }
            }
          ]
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": true,
      "hasSearchParam": true,
      "hasSortParams": true
    }
  },
  {
    "id": "POST /api/installment",
    "method": "POST",
    "url": "/api/installment",
    "summary": "Create new installment",
    "description": "Create a new installment with the provided data",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [
      "application/json",
      "application/x-www-form-urlencoded",
      "multipart/form-data"
    ],
    "pathParams": [],
    "queryParams": [],
    "requestBody": {
      "required": true,
      "schema": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "Installment name",
            "example": "Email Welcome Installment"
          },
          "description": {
            "type": "string",
            "description": "Installment description",
            "example": "Welcome email installment for new users"
          },
          "type": {
            "type": "string",
            "enum": [
              "email",
              "sms",
              "push",
              "form"
            ],
            "description": "Installment type for categorization",
            "example": "email"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "Soft delete flag",
            "default": false
          }
        }
      },
      "contentTypes": [
        "application/json",
        "application/x-www-form-urlencoded",
        "multipart/form-data"
      ]
    },
    "responses": {
      "201": {
        "description": "Installment created successfully",
        "schema": {
          "allOf": [
            {
              "$ref": "#/components/schemas/Success"
            },
            {
              "type": "object",
              "properties": {
                "data": {
                  "type": "object",
                  "properties": {
                    "installment": {
                      "$ref": "#/components/schemas/Installment"
                    }
                  }
                }
              }
            }
          ]
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "POST /api/installment/{id}/deduct",
    "method": "POST",
    "url": "/api/installment/{id}/deduct",
    "summary": "Mark installment as deducted",
    "description": "Mark an installment as deducted from payroll with optional batch and reference tracking",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [
      "application/json"
    ],
    "pathParams": [
      {
        "name": "id",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "description": "Installment ID (MongoDB ObjectId format)"
      }
    ],
    "queryParams": [],
    "requestBody": {
      "required": false,
      "schema": {
        "type": "object",
        "properties": {
          "payrollBatchId": {
            "type": "string",
            "description": "Payroll batch identifier",
            "example": "BATCH-2024-01-15"
          },
          "deductionReference": {
            "type": "string",
            "description": "Deduction reference number",
            "example": "DED-2024-001234"
          }
        }
      },
      "contentTypes": [
        "application/json"
      ]
    },
    "responses": {
      "200": {
        "description": "Installment marked as deducted successfully",
        "contentTypes": []
      },
      "400": {
        "contentTypes": []
      },
      "404": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "GET /api/installment/pending-payroll",
    "method": "GET",
    "url": "/api/installment/pending-payroll",
    "summary": "Get pending installments for payroll",
    "description": "Retrieve all pending installments that are due for deduction based on cutoff date",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [],
    "pathParams": [],
    "queryParams": [
      {
        "name": "cutoffDate",
        "required": false,
        "schema": {
          "type": "string",
          "format": "date"
        },
        "description": "Cutoff date for filtering (defaults to today)"
      }
    ],
    "responses": {
      "200": {
        "description": "Pending installments retrieved successfully",
        "schema": {
          "type": "object",
          "properties": {
            "cutoffDate": {
              "type": "string",
              "format": "date-time"
            },
            "totalPending": {
              "type": "integer"
            },
            "totalAmount": {
              "type": "number"
            },
            "installments": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Installment"
              }
            }
          }
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  },
  {
    "id": "GET /api/installment/order/{orderId}/summary",
    "method": "GET",
    "url": "/api/installment/order/{orderId}/summary",
    "summary": "Get installment summary for order",
    "description": "Retrieve a comprehensive summary of all installments for a specific order",
    "tags": [
      "Installment"
    ],
    "deprecated": false,
    "contentTypes": [],
    "pathParams": [
      {
        "name": "orderId",
        "required": true,
        "schema": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "description": "Order ID (MongoDB ObjectId format)"
      }
    ],
    "queryParams": [],
    "responses": {
      "200": {
        "description": "Installment summary retrieved successfully",
        "schema": {
          "type": "object",
          "properties": {
            "totalInstallments": {
              "type": "integer"
            },
            "paidCount": {
              "type": "integer"
            },
            "pendingCount": {
              "type": "integer"
            },
            "failedCount": {
              "type": "integer"
            },
            "totalAmount": {
              "type": "number"
            },
            "paidAmount": {
              "type": "number"
            },
            "remainingAmount": {
              "type": "number"
            },
            "installments": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Installment"
              }
            }
          }
        },
        "contentTypes": [
          "application/json"
        ]
      },
      "400": {
        "contentTypes": []
      },
      "500": {
        "contentTypes": []
      }
    },
    "paginationHints": {
      "hasPaginationParams": false,
      "hasSearchParam": false,
      "hasSortParams": false
    }
  }
]