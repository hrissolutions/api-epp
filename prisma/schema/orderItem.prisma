model OrderItem {
  id             String  @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String? @db.ObjectId
  order          Order   @relation(fields: [orderId], references: [id], onDelete: Cascade)
  orderId        String  @db.ObjectId
  item           Item    @relation(fields: [itemId], references: [id], onDelete: Restrict)
  itemId         String  @db.ObjectId

  quantity  Int
  unitPrice Float
  discount  Float @default(0)
  subtotal  Float

  createdAt DateTime @default(now())

  @@index([orderId])
  @@index([itemId])
  @@index([organizationId])
  @@map("orderItems")
}
